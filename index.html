<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>FutLive.com</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}
  body{background:#f7f7f7;color:#333}
  header{position:fixed;top:0;left:0;width:100%;background:#fff;border-bottom:1px solid #ddd;display:flex;justify-content:space-between;align-items:center;padding:.8rem 2rem;z-index:1000;box-shadow:0 2px 6px rgba(0,0,0,.05)}
  header .logo img{height:50px}
  nav a{margin-left:1.5rem;text-decoration:none;color:#333;font-weight:500;transition:color .3s}
  nav a:hover{color:#ff4d4f}
  main{padding-top:100px}
  section{display:none;padding:2rem;min-height:calc(100vh - 100px)}
  section.active{display:block}
  h1{margin-bottom:1rem;color:#000}
  .cards{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}
  .card{background:#fff;border-radius:12px;padding:1.2rem;width:220px;box-shadow:0 4px 12px rgba(0,0,0,.08);display:flex;flex-direction:column;align-items:center;text-align:center;transition:transform .3s,box-shadow .3s}
  .card:hover{transform:translateY(-5px);box-shadow:0 6px 16px rgba(0,0,0,.12)}
  .card img{width:80px;height:80px;object-fit:contain;margin-bottom:.8rem}
  .card button{margin-top:.5rem;padding:.5rem 1rem;border:none;border-radius:8px;background:#ff4d4f;color:#fff;cursor:pointer;transition:background .3s}
  .card button:hover{background:#e04345}
  form{display:flex;flex-direction:column;gap:.8rem;max-width:300px;margin:1rem auto}
  input,select{padding:.5rem;border-radius:8px;border:1px solid #ccc;width:100%}
  form button{background:#ff4d4f;color:#fff;border:none;padding:.5rem;border-radius:8px;cursor:pointer}
  form button:hover{background:#e04345}
  .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);justify-content:center;align-items:center;z-index:2000}
  .modal-content{background:#fff;padding:2rem;border-radius:12px;max-width:520px;width:95%}
  .partida-card{background:linear-gradient(180deg,#ffffff 0%,#fffaf9 100%);border-radius:16px;padding:1.2rem;width:320px;box-shadow:0 8px 28px rgba(0,0,0,.12);text-align:center;transition:transform .35s,box-shadow .35s;border:1px solid rgba(0,0,0,.04)}
  .partida-card:hover{transform:translateY(-6px);box-shadow:0 12px 36px rgba(0,0,0,.16)}
  .partida-times{display:flex;align-items:center;justify-content:center;gap:1rem;margin-bottom:.8rem}
  .partida-times img{width:78px;height:78px;object-fit:contain;border-radius:10px;background:#fff;padding:6px}
  .partida-times span{font-size:1.4rem;font-weight:800;color:#ff4d4f}
  .escudo-placeholder{width:78px;height:78px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;font-size:1.6rem}
  #modalJogadores{display:flex;flex-direction:column;gap:.6rem;max-height:300px;overflow:auto;margin:.6rem 0}
  .modal-jogador{display:flex;align-items:center;justify-content:space-between;background:#f8f8f8;border-radius:8px;padding:.5rem .8rem}
  .modal-jogador .info{display:flex;gap:.6rem;align-items:center}
  .modal-jogador button{background:#ff4d4f;color:#fff;border:none;padding:.3rem .6rem;border-radius:6px;cursor:pointer}
  .modal-jogador button:hover{background:#e04345}
  .home-header{display:flex;align-items:center;gap:1rem;justify-content:center;margin-bottom:2rem;flex-wrap:wrap}
  .home-header img{height:160px}
  @media (max-width:720px){.partida-card{width:95%}.card{width:45%}.home-header{flex-direction:column}}
</style>
</head>
<body>

<header>
  <div class="logo"><img id="logoTop" src="110003af-2940-42c0-ac1c-6cf9c6ad0916.png" alt="FutLive Logo"></div>
  <nav>
    <a href="#home" data-section="home">Início</a>
    <a href="#jogadores" data-section="jogadores">Gerenciar Jogadores</a>
    <a href="#times" data-section="times">Gerenciar Times</a>
    <a href="#partidas" data-section="partidas">Agendar Partidas</a>
  </nav>
</header>

<main>
  <section id="home" class="active">
    <div class="home-header">
      <img id="logoHome" src="110003af-2940-42c0-ac1c-6cf9c6ad0916.png" alt="FutLive Logo">
      <h1>Bem-vindo ao FutLive!</h1>
    </div>
    <div class="cards" id="cardsPartidasHome"><p>Nenhuma partida agendada ainda.</p></div>
  </section>

  <section id="times">
    <h1>Gerenciar Times</h1>
    <form id="formTime">
      <input type="text" id="nomeTime" placeholder="Nome do Time" required>
      <input type="color" id="corTime" required>
      <input type="file" id="escudoTime" accept="image/*">
      <button type="submit">Adicionar Time</button>
    </form>
    <div class="cards" id="listaTimes"></div>
  </section>

  <section id="partidas">
    <h1>Agendar Partidas</h1>
    <form id="formPartida">
      <select id="time1"></select>
      <select id="time2"></select>
      <input type="date" id="dataPartida" required>
      <input type="time" id="horaPartida" required>
      <input type="text" id="localPartida" placeholder="Local da Partida" required>
      <button type="submit">Agendar Partida</button>
    </form>
    <div class="cards" id="listaPartidas"></div>
  </section>
</main>

<!-- Modal Editar Time -->
<div class="modal" id="modalEditarTime">
  <div class="modal-content">
    <h2>Editar Time</h2>
    <form id="formEditarTime">
      <input type="text" id="editarNomeTime" placeholder="Nome do Time" required>
      <input type="color" id="editarCorTime" required>
      <input type="file" id="editarEscudoTime" accept="image/*">
      <div style="display:flex;gap:8px;margin-top:8px;">
        <button type="submit">Salvar</button>
        <button type="button" onclick="fecharModalEditarTime()">Cancelar</button>
      </div>
    </form>
  </div>
</div>

<script>
/* === Estado === */
let jogadores = JSON.parse(localStorage.getItem('jogadores')||'[]');
let times = JSON.parse(localStorage.getItem('times')||'[]');
let partidas = JSON.parse(localStorage.getItem('partidas')||'[]');
let timeEditando = null;

/* === Times === */
function atualizarTimes(){
  const lista = document.getElementById('listaTimes');
  const sel1 = document.getElementById('time1');
  const sel2 = document.getElementById('time2');
  lista.innerHTML=''; sel1.innerHTML='<option value="">Time 1</option>'; sel2.innerHTML='<option value="">Time 2</option>';
  times.forEach((t, idx)=>{
    const card = document.createElement('div');
    card.className='card';
    card.style.border = `3px solid ${t.cor}`;
    card.innerHTML = `
      <h3>${t.nome}</h3>
      <div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:center">
        <button onclick="abrirEditarTime(${idx})">Editar</button>
        <button onclick="removerTime(${idx})">Excluir</button>
      </div>`;
    lista.appendChild(card);
    sel1.innerHTML += `<option value="${t.nome}">${t.nome}</option>`;
    sel2.innerHTML += `<option value="${t.nome}">${t.nome}</option>`;
  });
}
function removerTime(idx){ times.splice(idx,1); salvarTudo(); }
function abrirEditarTime(idx){
  timeEditando = idx;
  document.getElementById('editarNomeTime').value = times[idx].nome;
  document.getElementById('editarCorTime').value = times[idx].cor;
  document.getElementById('modalEditarTime').style.display='flex';
}
function fecharModalEditarTime(){ document.getElementById('modalEditarTime').style.display='none'; timeEditando=null; }
document.getElementById('formEditarTime').addEventListener('submit', e=>{
  e.preventDefault();
  if(timeEditando!==null){
    const nome = document.getElementById('editarNomeTime').value.trim();
    const cor = document.getElementById('editarCorTime').value;
    const escudoFile = document.getElementById('editarEscudoTime').files[0];
    const salvar = (esc)=>{ times[timeEditando] = {...times[timeEditando], nome, cor, escudo:esc||times[timeEditando].escudo}; salvarTudo(); fecharModalEditarTime(); };
    if(escudoFile){
      const reader = new FileReader();
      reader.onload = ()=> salvar(reader.result);
      reader.readAsDataURL(escudoFile);
    } else salvar(null);
  }
});

/* === Partidas === */
function atualizarPartidas(){
  const lista = document.getElementById('listaPartidas');
  const listaHome = document.getElementById('cardsPartidasHome');
  lista.innerHTML=''; listaHome.innerHTML='';
  if(!partidas.length){ listaHome.innerHTML='<p>Nenhuma partida agendada ainda.</p>'; return; }
  partidas.forEach((p, idx)=>{
    const cardAdmin = document.createElement('div');
    cardAdmin.className='card';
    cardAdmin.innerHTML = `
      <h3>${p.time1} vs ${p.time2}</h3>
      <p>${p.data} ${p.hora} - ${p.local}</p>
      <button onclick="removerPartida(${idx})">Excluir</button>`;
    lista.appendChild(cardAdmin);

    const cardHome = document.createElement('div');
    cardHome.className='partida-card';
    cardHome.innerHTML = `
      <div class="partida-times"><span>${p.time1}</span> X <span>${p.time2}</span></div>
      <h3>${p.time1} vs ${p.time2}</h3>
      <p><strong>Data:</strong> ${p.data} - ${p.hora}</p>
      <p><strong>Local:</strong> ${p.local}</p>`;
    listaHome.appendChild(cardHome);
  });
}
function removerPartida(idx){ partidas.splice(idx,1); salvarTudo(); }

/* === Forms === */
document.getElementById('formPartida').addEventListener('submit', e=>{
  e.preventDefault();
  const time1 = document.getElementById('time1').value;
  const time2 = document.getElementById('time2').value;
  const data = document.getElementById('dataPartida').value;
  const hora = document.getElementById('horaPartida').value;
  const local = document.getElementById('localPartida').value.trim();
  if(time1 && time2 && time1!==time2 && data && hora && local){
    partidas.push({time1,time2,data,hora,local});
    salvarTudo(); e.target.reset();
  }
});

/* === Persistência === */
function salvarTudo(){
  localStorage.setItem('times', JSON.stringify(times));
  localStorage.setItem('partidas', JSON.stringify(partidas));
  atualizarTimes(); atualizarPartidas();
}

document.addEventListener('DOMContentLoaded', ()=>{ atualizarTimes(); atualizarPartidas(); });
</script>
</body>
</html>
