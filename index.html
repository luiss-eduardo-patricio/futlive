<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>FutLive.com</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    * {margin:0;padding:0;box-sizing:border-box;font-family:Arial, sans-serif;}
    body {background:#f8f9fa;color:#333;}
    header {position:fixed;top:0;left:0;right:0;background:#222;color:#fff;padding:15px;display:flex;align-items:center;justify-content:space-between;z-index:100;}
    header h1 {font-size:1.2rem;}
    nav a {margin:0 10px;color:#fff;text-decoration:none;font-weight:bold;cursor:pointer;}
    nav a:hover {text-decoration:underline;}
    main {padding:100px 20px;}
    section {display:none;}
    section.active {display:block;}
    h2 {margin-bottom:15px;}
    .card {background:#fff;padding:20px;border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,0.1);margin:10px 0;}
    .form-control {margin:10px 0;}
    .form-control input, .form-control select {width:100%;padding:10px;border:1px solid #ccc;border-radius:8px;}
    button {padding:10px 15px;border:none;border-radius:8px;cursor:pointer;background:#007bff;color:#fff;font-weight:bold;}
    button:hover {background:#0056b3;}
    .list {margin-top:20px;}
    .list-item {background:#fff;padding:10px;border-radius:8px;display:flex;justify-content:space-between;align-items:center;margin:5px 0;}
    .actions button {margin-left:5px;background:#6c757d;}
    .actions button:hover {background:#495057;}
    .team-badge {display:inline-flex;align-items:center;gap:8px;}
    .match-card {cursor:pointer;transition:.3s;}
    .match-card:hover {transform:scale(1.02);}
    /* Modal */
    .modal {position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;}
    .modal-content {background:#fff;padding:20px;border-radius:12px;max-width:500px;width:90%;}
    .close {float:right;cursor:pointer;font-weight:bold;}
    .scoreboard {display:flex;align-items:center;justify-content:center;gap:30px;margin:20px 0;font-size:1.5rem;font-weight:bold;}
    .events {margin-top:20px;}
  </style>
</head>
<body>
  <header>
    <h1>‚öΩ FutLive.com</h1>
    <nav>
      <a onclick="showSection('home')">In√≠cio</a>
      <a onclick="showSection('players')">Gerenciar Jogadores</a>
      <a onclick="showSection('teams')">Gerenciar Times</a>
      <a onclick="showSection('matches')">Agendar Partidas</a>
    </nav>
  </header>

  <main>
    <!-- P√°gina inicial -->
    <section id="home" class="active">
      <h2>Partidas Agendadas</h2>
      <div id="matchesList"></div>
    </section>

    <!-- Jogadores -->
    <section id="players">
      <h2>Gerenciar Jogadores</h2>
      <div class="form-control"><input type="text" id="playerName" placeholder="Nome completo"></div>
      <div class="form-control"><input type="text" id="playerRole" placeholder="Fun√ß√£o"></div>
      <button onclick="addPlayer()">Adicionar Jogador</button>
      <div class="list" id="playersList"></div>
    </section>

    <!-- Times -->
    <section id="teams">
      <h2>Gerenciar Times</h2>
      <div class="form-control"><input type="text" id="teamName" placeholder="Nome do Time"></div>
      <div class="form-control"><input type="color" id="teamColor" value="#ff0000"></div>
      <div class="form-control"><input type="file" id="teamLogo" accept="image/*"></div>
      <button onclick="addTeam()">Criar Time</button>
      <div class="list" id="teamsList"></div>
    </section>

    <!-- Partidas -->
    <section id="matches">
      <h2>Agendar Partida</h2>
      <div class="form-control"><input type="text" id="championship" placeholder="Campeonato"></div>
      <div class="form-control"><input type="text" id="location" placeholder="Local"></div>
      <div class="form-control"><input type="datetime-local" id="dateTime"></div>
      <div class="form-control">
        <select id="teamA"></select>
      </div>
      <div class="form-control">
        <select id="teamB"></select>
      </div>
      <button onclick="addMatch()">Agendar</button>
    </section>

    <!-- Tela do jogo -->
    <section id="game">
      <h2 id="gameTitle"></h2>
      <div class="scoreboard">
        <span id="scoreA">0</span> - <span id="scoreB">0</span>
      </div>
      <button onclick="goal('A')">Gol Time A</button>
      <button onclick="goal('B')">Gol Time B</button>
      <div class="events" id="gameEvents"></div>
    </section>
  </main>

  <!-- Modal adicionar jogadores ao time -->
  <div class="modal" id="teamModal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h3>Adicionar Jogadores</h3>
      <div id="teamPlayers"></div>
    </div>
  </div>

  <script>
    let players = JSON.parse(localStorage.getItem('players')) || [];
    let teams = JSON.parse(localStorage.getItem('teams')) || [];
    let matches = JSON.parse(localStorage.getItem('matches')) || [];
    let currentGame = null;

    function saveData() {
      localStorage.setItem('players', JSON.stringify(players));
      localStorage.setItem('teams', JSON.stringify(teams));
      localStorage.setItem('matches', JSON.stringify(matches));
    }

    function showSection(id) {
      document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      if(id === 'players') renderPlayers();
      if(id === 'teams') renderTeams();
      if(id === 'matches') updateTeamSelects();
      if(id === 'home') renderMatches();
    }

    // Jogadores
    function addPlayer() {
      const name = document.getElementById('playerName').value.trim();
      const role = document.getElementById('playerRole').value.trim();
      if(!name || !role) return alert("Preencha todos os campos!");
      if(players.some(p => p.name === name)) return alert("Jogador j√° existe!");
      players.push({name, role});
      saveData();
      renderPlayers();
      document.getElementById('playerName').value = '';
      document.getElementById('playerRole').value = '';
    }
    function renderPlayers() {
      const list = document.getElementById('playersList');
      list.innerHTML = '';
      players.forEach((p,i)=>{
        const div = document.createElement('div');
        div.className='list-item';
        div.innerHTML=`${p.name} (${p.role})
          <div class="actions">
            <button onclick="editPlayer(${i})">‚úèÔ∏è</button>
            <button onclick="deletePlayer(${i})">üóëÔ∏è</button>
          </div>`;
        list.appendChild(div);
      });
    }
    function editPlayer(i){
      const newName = prompt("Novo nome:", players[i].name);
      const newRole = prompt("Nova fun√ß√£o:", players[i].role);
      if(newName && newRole){players[i].name=newName;players[i].role=newRole;saveData();renderPlayers();}
    }
    function deletePlayer(i){if(confirm("Excluir jogador?")){players.splice(i,1);saveData();renderPlayers();}}

    // Times
    function addTeam(){
      const name=document.getElementById('teamName').value.trim();
      const color=document.getElementById('teamColor').value;
      const logoFile=document.getElementById('teamLogo').files[0];
      if(!name) return alert("Informe o nome do time");
      const reader=new FileReader();
      reader.onload=function(e){
        teams.push({name,color,logo:e.target.result,players:[]});
        saveData();renderTeams();
        document.getElementById('teamName').value='';
        document.getElementById('teamLogo').value='';
      };
      if(logoFile) reader.readAsDataURL(logoFile);
      else {teams.push({name,color,logo:'',players:[]});saveData();renderTeams();}
    }
    function renderTeams(){
      const list=document.getElementById('teamsList');
      list.innerHTML='';
      teams.forEach((t,i)=>{
        const div=document.createElement('div');
        div.className='list-item';
        div.innerHTML=`<span class="team-badge"><div style="width:20px;height:20px;background:${t.color};border-radius:50%"></div>
          ${t.logo?'<img src="'+t.logo+'" style="width:20px;height:20px;border-radius:50%">':''} ${t.name}</span>
          <button onclick="openModal(${i})">üë• Jogadores</button>`;
        list.appendChild(div);
      });
    }
    function openModal(i){
      const modal=document.getElementById('teamModal');modal.style.display='flex';
      const container=document.getElementById('teamPlayers');container.innerHTML='';
      players.forEach(p=>{
        const chk=document.createElement('input');chk.type='checkbox';chk.value=p.name;
        if(teams[i].players.includes(p.name)) chk.checked=true;
        chk.onchange=function(){if(this.checked){teams[i].players.push(p.name);}else{teams[i].players=teams[i].players.filter(n=>n!==p.name);}saveData();};
        const lbl=document.createElement('label');lbl.textContent=p.name;
        const div=document.createElement('div');div.appendChild(chk);div.appendChild(lbl);
        container.appendChild(div);
      });
    }
    function closeModal(){document.getElementById('teamModal').style.display='none';}

    // Partidas
    function updateTeamSelects(){
      const teamA=document.getElementById('teamA');
      const teamB=document.getElementById('teamB');
      teamA.innerHTML='';teamB.innerHTML='';
      teams.forEach((t,i)=>{
        const optA=document.createElement('option');optA.value=i;optA.textContent=t.name;
        const optB=document.createElement('option');optB.value=i;optB.textContent=t.name;
        teamA.appendChild(optA);teamB.appendChild(optB);
      });
    }
    function addMatch(){
      const champ=document.getElementById('championship').value.trim();
      const loc=document.getElementById('location').value.trim();
      const dt=document.getElementById('dateTime').value;
      const tA=teams[document.getElementById('teamA').value];
      const tB=teams[document.getElementById('teamB').value];
      if(!champ||!loc||!dt||!tA||!tB) return alert("Preencha todos os campos!");
      matches.push({champ,loc,dt,teamA:tA.name,teamB:tB.name,scoreA:0,scoreB:0,events:[]});
      saveData();renderMatches();showSection('home');
    }
    function renderMatches(){
      const list=document.getElementById('matchesList');list.innerHTML='';
      matches.forEach((m,i)=>{
        const div=document.createElement('div');div.className='card match-card';
        div.onclick=()=>openGame(i);
        div.innerHTML=`<h3>${m.champ}</h3>
          <p><b>${m.teamA}</b> x <b>${m.teamB}</b></p>
          <p>${m.loc} - ${new Date(m.dt).toLocaleString()}</p>`;
        list.appendChild(div);
      });
    }

    // Tela do jogo
    function openGame(i){
      currentGame=i;
      const g=matches[i];
      document.getElementById('gameTitle').textContent=g.teamA+" x "+g.teamB;
      document.getElementById('scoreA').textContent=g.scoreA;
      document.getElementById('scoreB').textContent=g.scoreB;
      const events=document.getElementById('gameEvents');events.innerHTML='';
      g.events.forEach(ev=>{
        const p=document.createElement('p');p.textContent=ev;events.appendChild(p);
      });
      showSection('game');
    }
    function goal(team){
      if(currentGame===null) return;
      if(team==='A') matches[currentGame].scoreA++;
      else matches[currentGame].scoreB++;
      matches[currentGame].events.push("Gol do time "+team+" aos "+new Date().toLocaleTimeString());
      saveData();openGame(currentGame);
    }

    // Inicializar
    renderMatches();
  </script>
</body>
</html>
